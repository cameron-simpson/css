#!/bin/sh -ue

: ${OS:=`uname -s|tr '[A-Z]' '[a-z]'`}
: ${USER:=`whoami`}

user=$USER
ptopts=

while [ $# -gt 0 ]
do
  case $1 in
    +?*)
      ptopts="$ptopts $1" ;;
    [a-zA-Z0-9_.]*)
      user=$1 ;;
    *)break ;;
  esac
  shift
done

case $OS in
    *bsd)
	exec pt ww -U "$user" ${1+"$@"} ;;
    sunos|ultrix|domainos)
    	exec ps xww${1+"$@"} ;;
    linux)
	exec pt $ptopts w x ${1+"$@"} ;;
    # sysv
    *)	exec pt $ptopts "-u$user" ${1+"$@"} ;;
esac \
| entilde
