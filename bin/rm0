#!/bin/sh -u
#
# Remove empty files.
#	- Cameron Simpson <cs@zip.com.au> 05dec2005
#

xit=0

quiet=

[ $# -gt 0 ] && [ "x$1" = x-q ] && { quiet=1; shift; }

for f
do
  [ $quiet ] || ls -ld -- "$f" || { xit=1; continue; }

  [  ! -f "$f" ] \
  || [ -s "$f" ] \
  || ( [ $quiet ] || set -x; rm -- "$f" ) \
  || xit=1
done

exit $xit
