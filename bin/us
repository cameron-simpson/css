#!/bin/sh
#
# Autostart browser and show URLs. Backgrounds so the user can get on
# with things.
#	- Cameron Simpson <cs@zip.com.au>
#
# Catch "us -" and squirrel away stdin.	- cameron 25jun2001
# Shortcuts and foo.bar -> http://foo.bar/ - cameron 09aug2002
#

: ${DISPLAY:=''}
: ${OS:=`uname -s|tr '[A-Z]' '[a-z]'`}

case "$OS,$DISPLAY" in
  darwin,* | *,?*) ;;
  *) echo "$0: no \$DISPLAY!" >&2; exit 1 ;;
esac

urlshowopts=

while :
do
  case $1 in
    --)		shift; break ;;
    -?* | +?* )	urlshowopts="$urlshowopts $1" ;;
    *)		break ;;
  esac
  shift
done

if [ $# = 0 ]
then  set -- -
else  [ "x$*" = x- ] || exec </dev/null
fi

set -- urlshow $urlshowopts -- "$@"
##alert -- "$*" &
exec bgstdin "$@"
