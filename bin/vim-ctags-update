#!/bin/sh
#
# Locate and update the local tags file.
# Recite "set tags=/path/to/tagsfile".
#   - Cameron Simpson <cs@cskk.id.au> 28feb2017
#

set -ue

cmd=$0
usage="Usage: $cmd filenames..."

badopts=

if [ $# = 0 ]
then
  echo "$cmd: missing filenames" >&2
  badopts=1
fi

[ $badopts ] && { echo "$usage" >&2; exit 2; }

tags=$( ctags-update -- "$@" & )
echo "set tags=$tags"
