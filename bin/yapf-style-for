#!/bin/sh
#
# The preferred style for use with yapf.
# - Cameron Simpson <cs@cskk.id.au> 30jan2020
#

set -ue

yapf_file=.style.yapf

[ $# = 1 ] || {
  echo "Usage: $0 filename" >&2
  exit 2
}

srcfile=$1
shift

srcfile=$( realpath "$srcfile" )
srcdir=${srcfile%/*}
exec findup -C "$srcdir" -- "$yapf_file" || echo pep8
