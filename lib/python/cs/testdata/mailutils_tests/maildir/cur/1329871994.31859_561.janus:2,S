Return-Path: <python-list-bounces+cs=zip.com.au@python.org>
X-Spam-Checker-Version: SpamAssassin 3.2.1-gr1 (2007-05-02) on janus.home
X-Spam-Level: 
X-Spam-Status: No, score=-0.6 required=3.0 tests=BAYES_00,FAKE_REPLY_C
	autolearn=no version=3.2.1-gr1
Delivered-To: unknown
Received: from mail.zip.com.au (61.8.0.24) by janus.home with POP3-SSL; 24
  Jul 2008 22:45:54 -0000
Delivered-To: cs@zipworld.com.au
Received: from mailin2.pacific.net.au (mailin2.pacific.net.au [61.8.0.81])
	by mailstore2.syd.pacific.net.au (Postfix) with ESMTP id 500AC77F3
	for <cs@zipworld.com.au>; Fri, 25 Jul 2008 08:45:27 +1000 (EST)
Received: from smtp-vbr3.xs4all.nl (unknown [194.109.24.23])
	by mailin2.pacific.net.au (Postfix) with ESMTP id A373618616B
	for <cs@zip.com.au>; Fri, 25 Jul 2008 08:45:26 +1000 (EST)
Received: from bag.python.org (bag.python.org [194.109.207.14])
	by smtp-vbr3.xs4all.nl (8.13.8/8.13.8) with ESMTP id m6OMiE9m009897
	for <cs@zip.com.au>; Fri, 25 Jul 2008 00:45:24 +0200 (CEST)
	(envelope-from python-list-bounces+cs=zip.com.au@python.org)
Received: from bag.python.org (bag [127.0.0.1])
	by bag.python.org (Postfix) with ESMTP id 5B8941E4006
	for <cs@zip.com.au>; Fri, 25 Jul 2008 00:45:24 +0200 (CEST)
X-Original-To: python-list@python.org
Delivered-To: python-list@bag.python.org
Received: from bag.python.org (bag [127.0.0.1])
	by bag.python.org (Postfix) with ESMTP id 18DDF1E4005
	for <python-list@python.org>; Fri, 25 Jul 2008 00:44:07 +0200 (CEST)
Received: from bag (HELO bag.python.org) (127.0.0.1)
	by bag.python.org with SMTP; 25 Jul 2008 00:44:06 +0200
Received: from scorpius.boardofstudies.nsw.edu.au
	(mail1.boardofstudies.nsw.edu.au [202.125.174.132])
	by bag.python.org (Postfix) with ESMTP
	for <python-list@python.org>; Fri, 25 Jul 2008 00:43:58 +0200 (CEST)
Received: from cskk.homeip.net (localhost.localdomain [127.0.0.1])
	by scorpius.boardofstudies.nsw.edu.au (Postfix) with ESMTP id
	15C7E4D19AF
	for <python-list@python.org>; Fri, 25 Jul 2008 08:43:56 +1000 (EST)
Received: by janus.cskk.homeip.net (Postfix, from userid 1000)
	id E5A5110048F5C; Fri, 25 Jul 2008 08:43:55 +1000 (EST)
Date: Fri, 25 Jul 2008 08:43:55 +1000
From: Cameron Simpson <cs@zip.com.au>
To: <python-list@python.org>
Subject: Re: Gracefull application exit.
Message-id: <20080724224355.GA30988@cskk.homeip.net>
Mime-version: 1.0
Content-disposition: inline
User-agent: Mutt/1.5.18 (2008-05-17)
X-BeenThere: python-list@python.org
X-Mailman-Version: 2.1.10
Precedence: list
List-Id: General discussion list for the Python programming language
	<python-list.python.org>
List-Unsubscribe: <http://mail.python.org/mailman/options/python-list>,
	<mailto:python-list-request@python.org?subject=unsubscribe>
List-Archive: <http://mail.python.org/pipermail/python-list>
List-Post: <mailto:python-list@python.org>
List-Help: <mailto:python-list-request@python.org?subject=help>
List-Subscribe: <http://mail.python.org/mailman/listinfo/python-list>,
	<mailto:python-list-request@python.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: python-list-bounces+cs=zip.com.au@python.org
Errors-To: python-list-bounces+cs=zip.com.au@python.org
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Cats2Procmailrc-Rule: cats/home, line 103: python  python-list     sender:python-list-bounces+cs=zip.com.au@python.org
X-Label: python-list
Content-Length: 911

On 24Jul2008 17:30, Robert Rawlins <robert.rawlins@thinkbluemedia.co.uk> wrote:
| > but mind the caveats:
| 
| Thanks Tim, the main caveat which worries me is the fact that it doesn't get
| called when being killed by SIGTERM. When I look at implementing the
| application as Daemon will cause complications.
| The implementation looks nice and is certainly the way I would like to go,
| but unless it'll work when killed by sigterm it likely won't be for me.

If you catch SIGTERM with the signal module and call sys.exit() they
should fire.

This all gets harder with threads.
-- 
Cameron Simpson <cs@zip.com.au> DoD#743
http://www.cskk.ezoshosting.com/cs/

We _like_ the starter!  Wouldn't have it any other way.  If it doesn't grind,
take it back to the dealer and make them fix it!
        - Jon N. Steiger, DoD#1038, <stei0302@mary.cs.fredonia.edu>
--
http://mail.python.org/mailman/listinfo/python-list

