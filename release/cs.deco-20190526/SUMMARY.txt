@decorator: add support for positional arguments and rewrite - simpler and clearer.
