@promote: support Optional[sometype] parameters.
