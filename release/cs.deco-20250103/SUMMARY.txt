@default_params, @promote: return regular function or generator depending on the nature of func.
@cachedmethod moved to cs.cache.
