atomic_filename: new feature - the caller may remove the temporary file to indicate that the target file should not be made.
