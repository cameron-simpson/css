@trace: rename some parameters, add with_caller.
