New @not_cancelled decorator for methods to raise CancellationError is self.cancelled.
