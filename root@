#!/bin/sh
#
# Make/attach a logged screened root session on a host.
#	- Cameron Simpson <cs@zip.com.au> 20may2002
#

cmd=$0
usage="Usage: $cmd [-N] hostname
       $cmd hostname command..."

badopts=

newflag=-N
[ "x$1" = x-N ] && { newflag=$1; shift; }
[ "x$1" = x+N ] && { newflag=; shift; }

if [ $# = 0 ]
then  echo "$cmd: missing hostname" >&2; badopts=1
else  host=$1; shift
fi

[ $badopts ] && { echo "$usage" >&2; exit 2; }

[ $# -gt 0 ] && exec sshp1 "root@$host" "$*"

ext=

session=root@$host$ext

## scrif $newflag "$session"
exec term -n "#$session" \
	logscript "$session" \
	sshp1 "root@$host"
