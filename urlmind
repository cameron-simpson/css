#!/bin/sh
#
# Register a page with the URL Minder
#	<http://www.netmind.com/URL-minder/URL-minder.html>.
# 
#	- Cameron Simpson <cs@zip.com.au> 12sep95
#

umemail=URL-minder@netmind.com
umsubj='URL-minder register'
#umaction=http://www.netmind.com/cgi-bin/uncgi/minder-register
umaction=http://www.netmind.com/cgi-bin/uncgi/minder-cgi

email=$EMAIL
change_notice=Y
dead_notice=Y
move_notice=Y
mime_attach=N
title=N
often=7
out=/dev/null

case $1 in
    -o)	out=$2; shift; shift ;;
esac

if [ $# = 0 ]
then
    urls=
    while [ -t 0 ] && necho "URL? "
	  read url
    do
	urls="$urls $url"
    done
else
    urls=$*
fi

exec \
httpget -o "$out" `query2url "$umaction" \
		   "required-email=$email" \
		   "VERIFIED_EMAIL=$email" \
		   "EMAIL=$email" \
		   "action=Register" \
		   "AGE=" \
		   "GENDER=" \
		   "ZIP=" \
		   "url=$urls" \
		   "URL=$urls" \
		   change_notice=$change_notice \
		   dead_notice=$dead_notice \
		   move_notice=$move_notice \
		   mime_attach=$mime_attach \
		   title=$title \
		   often=$often`
